# –ü–ª–∞–Ω –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è Redis –∫–µ—à—É–≤–∞–Ω–Ω—è –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—ñ

## –ü–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω

### –©–æ –≤–∂–µ —î:
1. ‚úÖ Redis —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (`dashboard/lib/redis.ts`, `shared/utils/redis.ts`)
2. ‚úÖ –ë–∞–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü—ñ—è `cached(key, fetcher, { ttl })` –∑ TTL
3. ‚úÖ –§—É–Ω–∫—Ü—ñ—ó —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—ó (`invalidateUserCache`, `invalidateTeamCache`, `invalidateCache`)
4. ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ Upstash Redis (–ø—Ä–æ–¥–∞–∫—à–Ω) —ñ IORedis (dev)
5. ‚úÖ –ß–∞—Å—Ç–∫–æ–≤–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤ API endpoints (projects, tasks, teams, stats)

### –ü—Ä–æ–±–ª–µ–º–∏:
1. ‚ùå –ù–µ–º–∞—î –º–µ—Ö–∞–Ω—ñ–∑–º—É –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö
2. ‚ùå –ü—Ä–æ—Å—Ç–æ –ø–æ–≤–µ—Ä—Ç–∞—î –¥–∞–Ω—ñ –∑ –∫–µ—à—É —è–∫—â–æ TTL –Ω–µ –≤–∏–π—à–æ–≤
3. ‚ùå –ú–æ–∂—É—Ç—å –±—É—Ç–∏ –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –¥–∞–Ω—ñ —è–∫—â–æ –∑–∞–±—É–ª–∏ —ñ–Ω–≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ –∫–µ—à
4. ‚ùå –Ü–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è –∫–µ—à—É –Ω–µ –∑–∞–≤–∂–¥–∏ –ø–æ–∫—Ä–∏–≤–∞—î –≤—Å—ñ –≤–∏–ø–∞–¥–∫–∏

## –†—ñ—à–µ–Ω–Ω—è: –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥

### –°—Ç—Ä–∞—Ç–µ–≥—ñ—è 1: Write-Through Cache Invalidation
- –ü—Ä–∏ **–∑–∞–ø–∏—Å—ñ** –¥–∞–Ω–∏—Ö (CREATE/UPDATE/DELETE) - **–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —ñ–Ω–≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏** –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –∫–ª—é—á—ñ –∫–µ—à—É
- –ì–∞—Ä–∞–Ω—Ç—É—î —â–æ –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ –¥–∞–Ω–∏—Ö –∫–µ—à –±—É–¥–µ –æ—á–∏—â–µ–Ω–æ

### –°—Ç—Ä–∞—Ç–µ–≥—ñ—è 2: Timestamp-Based Validation
- –ü—Ä–∏ **—á–∏—Ç–∞–Ω–Ω—ñ** –¥–∞–Ω–∏—Ö - –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ `updatedAt` timestamp
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–µ—à—É: `{ data, cachedAt, version }`
- –Ø–∫—â–æ `updatedAt` –≤ –ë–î > `cachedAt` –≤ –∫–µ—à—ñ - –æ–Ω–æ–≤–∏—Ç–∏ –∫–µ—à
- –î–æ–¥–∞—Ç–∫–æ–≤–∞ —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ –Ω–∞ –≤–∏–ø–∞–¥–æ–∫ –ø—Ä–æ–ø—É—â–µ–Ω–æ—ó —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

### –°—Ç—Ä–∞—Ç–µ–≥—ñ—è 3: Smart Composite Keys
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–µ–Ω—ñ –∫–ª—é—á—ñ –¥–ª—è —Ç–æ—á–Ω–æ—ó —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- –§–æ—Ä–º–∞—Ç: `{entity}:{id}`, `{entity}:user:{userId}`, `{entity}:team:{teamId}`

## –¢–µ—Ö–Ω—ñ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è

### –§–∞–∑–∞ 1: –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –±–∞–∑–æ–≤–æ—ó —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏

#### 1.1 –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∏–ø–∏ –¥–ª—è –∫–µ—à—É
```typescript
interface CachedData<T> {
  data: T;
  cachedAt: number;  // timestamp
  version?: string;   // optional version hash
}

interface CacheValidationOptions {
  ttl?: number;           // Time to live in seconds
  validate?: boolean;     // Enable timestamp validation
  getUpdatedAt?: () => Promise<Date | null>;  // Function to get last update time
}
```

#### 1.2 –†–æ–∑—à–∏—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é `cached()`
- –î–æ–¥–∞—Ç–∏ –æ–ø—Ü—ñ—é `validate: true` –¥–ª—è timestamp –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
- –î–æ–¥–∞—Ç–∏ –æ–ø—Ü—ñ—é `getUpdatedAt()` –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —á–∞—Å—É –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ –ë–î
- –ó–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ –∫–µ—à—ñ –Ω–µ –ª–∏—à–µ –¥–∞–Ω—ñ, –∞ `CachedData<T>`

#### 1.3 –°—Ç–≤–æ—Ä–∏—Ç–∏ helper —Ñ—É–Ω–∫—Ü—ñ—ó
- `getCachedWithValidation<T>()` - —á–∏—Ç–∞–Ω–Ω—è –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é
- `setCacheWithTimestamp<T>()` - –∑–∞–ø–∏—Å –∑ timestamp
- `invalidateCachePattern()` - —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è –∑–∞ –ø–∞—Ç–µ—Ä–Ω–æ–º

### –§–∞–∑–∞ 2: –í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –≤ API endpoints

#### 2.1 Projects API
**Endpoints –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:**
- `GET /api/projects` - –∫–µ—à –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é
- `GET /api/projects/[id]` - —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–π –∫–µ—à –ø—Ä–æ–µ–∫—Ç—É
- `GET /api/projects/[id]/progress` - –∫–µ—à –ø—Ä–æ–≥—Ä–µ—Å—É

**–ö–ª—é—á—ñ –∫–µ—à—É:**
- `project:{id}` - –æ–∫—Ä–µ–º–∏–π –ø—Ä–æ–µ–∫—Ç
- `projects:user:{userId}` - –≤—Å—ñ –ø—Ä–æ–µ–∫—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `projects:team:{teamId}` - –ø—Ä–æ–µ–∫—Ç–∏ –∫–æ–º–∞–Ω–¥–∏
- `project:{id}:progress` - –ø—Ä–æ–≥—Ä–µ—Å –ø—Ä–æ–µ–∫—Ç—É

**–Ü–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è:**
- –ü—Ä–∏ `POST /api/projects` (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è) ‚Üí —ñ–Ω–≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ `projects:user:{userId}`, `projects:team:{teamId}`
- –ü—Ä–∏ `PUT /api/projects/[id]` (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è) ‚Üí —ñ–Ω–≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ `project:{id}`, `projects:user:{userId}`, `project:{id}:progress`
- –ü—Ä–∏ `DELETE /api/projects/[id]` ‚Üí —ñ–Ω–≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ –≤—Å—ñ –ø–æ–≤'—è–∑–∞–Ω—ñ –∫–ª—é—á—ñ

#### 2.2 Tasks API
**Endpoints:**
- `GET /api/tasks` - –∑ —Ñ—ñ–ª—å—Ç—Ä–∞–º–∏ (userId, projectId, teamId)
- `GET /api/tasks/[id]` - –æ–∫—Ä–µ–º–∞ –∑–∞–¥–∞—á–∞
- `GET /api/tasks/[id]/worked-hours` - –≤—ñ–¥–ø—Ä–∞—Ü—å–æ–≤–∞–Ω—ñ –≥–æ–¥–∏–Ω–∏

**–ö–ª—é—á—ñ –∫–µ—à—É:**
- `task:{id}` - –æ–∫—Ä–µ–º–∞ –∑–∞–¥–∞—á–∞
- `tasks:user:{userId}` - –≤—Å—ñ –∑–∞–¥–∞—á—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `tasks:project:{projectId}` - –∑–∞–¥–∞—á—ñ –ø—Ä–æ–µ–∫—Ç—É
- `tasks:team:{teamId}` - –∑–∞–¥–∞—á—ñ –∫–æ–º–∞–Ω–¥–∏
- `task:{id}:hours` - –≥–æ–¥–∏–Ω–∏ –∑–∞–¥–∞—á—ñ

**–Ü–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è:**
- –ü—Ä–∏ –∑–º—ñ–Ω—ñ –∑–∞–¥–∞—á—ñ ‚Üí —ñ–Ω–≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ task, tasks —Å–ø–∏—Å–∫–∏, project progress

#### 2.3 Teams API
**Endpoints:**
- `GET /api/teams` - —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥
- `GET /api/teams/[id]/members` - —á–ª–µ–Ω–∏ –∫–æ–º–∞–Ω–¥–∏

**–ö–ª—é—á—ñ:**
- `team:{id}`
- `teams:user:{userId}`
- `team:{id}:members`

#### 2.4 Stats API
**Endpoints:**
- `GET /api/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

**–ö–ª—é—á—ñ:**
- `stats:user:{userId}`
- TTL: 60 —Å–µ–∫—É–Ω–¥ (—à–≤–∏–¥–∫–æ –∑–º—ñ–Ω—é—é—Ç—å—Å—è)

**–Ü–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è:**
- –ü—Ä–∏ –∑–º—ñ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—ñ–≤, –∑–∞–¥–∞—á, –≤–∏—Ç—Ä–∞—Ç ‚Üí —ñ–Ω–≤–∞–ª—ñ–¥—É–≤–∞—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

#### 2.5 Invoices API
**–ö–ª—é—á—ñ:**
- `invoice:{id}`
- `invoices:project:{projectId}`
- `invoices:user:{userId}`

#### 2.6 Expenses API
**–ö–ª—é—á—ñ:**
- `expense:{id}`
- `expenses:project:{projectId}`

#### 2.7 Chat API
**–ö–ª—é—á—ñ:**
- `chat:{id}`
- `chats:user:{userId}`
- `chat:{id}:messages`
- TTL: 30-60 —Å–µ–∫—É–Ω–¥ (—á–∞—Å—Ç–æ –∑–º—ñ–Ω—é—é—Ç—å—Å—è)

### –§–∞–∑–∞ 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è

#### 3.1 –°—Ç–≤–æ—Ä–∏—Ç–∏ middleware –¥–ª—è —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
```typescript
// cache-invalidation.ts
export async function invalidateOnUpdate(entity: string, id: number, userId?: number) {
  const patterns = [];

  switch(entity) {
    case 'project':
      patterns.push(
        `project:${id}`,
        `project:${id}:*`,
        `projects:user:${userId}`,
        `stats:user:${userId}`
      );
      break;
    case 'task':
      patterns.push(
        `task:${id}`,
        `tasks:*`,
        `stats:user:${userId}`
      );
      break;
    // ... —ñ–Ω—à—ñ entities
  }

  for (const pattern of patterns) {
    await invalidateCache(pattern);
  }
}
```

#### 3.2 –î–æ–¥–∞—Ç–∏ —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—é –≤ storage –º–µ—Ç–æ–¥–∏
–û–±–≥–æ—Ä–Ω—É—Ç–∏ –º–µ—Ç–æ–¥–∏ `storage.updateProject()`, `storage.updateTask()` —ñ —Ç.–¥.

### –§–∞–∑–∞ 4: –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —ñ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

#### 4.1 –î–æ–¥–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ –∫–µ—à—É
- Hit rate (—Å–∫—ñ–ª—å–∫–∏ —Ä–∞–∑—ñ–≤ –¥–∞–Ω—ñ –≤–∑—è—Ç—ñ –∑ –∫–µ—à—É)
- Miss rate (—Å–∫—ñ–ª—å–∫–∏ —Ä–∞–∑—ñ–≤ —á–∏—Ç–∞–ª–∏ –∑ –ë–î)
- Invalidation rate

#### 4.2 –õ–æ–≥—É–≤–∞–Ω–Ω—è
- –õ–æ–≥—É–≤–∞—Ç–∏ cache hits/misses
- –õ–æ–≥—É–≤–∞—Ç–∏ —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- –í—ñ–¥—Å—Ç–µ–∂—É–≤–∞—Ç–∏ performance

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª—é—á—ñ–≤ –∫–µ—à—É

### –§–æ—Ä–º–∞—Ç:
```
{entity}:{id}                    - –æ–∫—Ä–µ–º–∞ —Å—É—Ç–Ω—ñ—Å—Ç—å
{entity}:user:{userId}           - —Å–ø–∏—Å–æ–∫ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
{entity}:team:{teamId}           - —Å–ø–∏—Å–æ–∫ –¥–ª—è –∫–æ–º–∞–Ω–¥–∏
{entity}:project:{projectId}     - —Å–ø–∏—Å–æ–∫ –¥–ª—è –ø—Ä–æ–µ–∫—Ç—É
{entity}:{id}:{subentity}        - –≤–∫–ª–∞–¥–µ–Ω–∞ —Å—É—Ç–Ω—ñ—Å—Ç—å
```

### –ü—Ä–∏–∫–ª–∞–¥–∏:
```
project:123
projects:user:456
tasks:team:789
task:123:hours
stats:user:456
chat:123:messages
invoice:456
invoices:project:123
```

## TTL —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è

### –®–≤–∏–¥–∫–æ –∑–º—ñ–Ω—é–≤–∞–Ω—ñ –¥–∞–Ω—ñ (TTL: 30-60 —Å–µ–∫):
- Chat messages
- Real-time notifications
- Active time tracking

### –°–µ—Ä–µ–¥–Ω—å–æ –∑–º—ñ–Ω—é–≤–∞–Ω—ñ (TTL: 3-5 —Ö–≤):
- Tasks lists
- Project lists
- Team data

### –ü–æ–≤—ñ–ª—å–Ω–æ –∑–º—ñ–Ω—é–≤–∞–Ω—ñ (TTL: 10-15 —Ö–≤):
- User profiles
- Project details
- Team members

### –†—ñ–¥–∫–æ –∑–º—ñ–Ω—é–≤–∞–Ω—ñ (TTL: 30-60 —Ö–≤):
- Project templates
- Static configuration

## –ü–æ—Ä—è–¥–æ–∫ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –Ü–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (1-2 –≥–æ–¥–∏–Ω–∏)
1. ‚úÖ –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–∏–ø–∏ `CachedData`, `CacheValidationOptions`
2. ‚úÖ –†–æ–∑—à–∏—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é `cached()` ‚Üí `cachedWithValidation()`
3. ‚úÖ –°—Ç–≤–æ—Ä–∏—Ç–∏ helper —Ñ—É–Ω–∫—Ü—ñ—ó
4. ‚úÖ –ù–∞–ø–∏—Å–∞—Ç–∏ —Ç–µ—Å—Ç–∏ –¥–ª—è –±–∞–∑–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π

### –ö—Ä–æ–∫ 2: API Endpoints - High Priority (2-3 –≥–æ–¥–∏–Ω–∏)
1. ‚úÖ Projects API (`GET /api/projects`, `GET /api/projects/[id]`)
2. ‚úÖ Tasks API (`GET /api/tasks`, `GET /api/tasks/[id]`)
3. ‚úÖ Stats API (`GET /api/stats`)
4. ‚úÖ Teams API (`GET /api/teams`)

### –ö—Ä–æ–∫ 3: API Endpoints - Medium Priority (2-3 –≥–æ–¥–∏–Ω–∏)
1. ‚úÖ Invoices API
2. ‚úÖ Expenses API
3. ‚úÖ Files API
4. ‚úÖ Reports API

### –ö—Ä–æ–∫ 4: API Endpoints - Lower Priority (1-2 –≥–æ–¥–∏–Ω–∏)
1. ‚úÖ Chat API (–≤–∂–µ —Ä–µ–∞–ª-—Ç–∞–π–º —á–µ—Ä–µ–∑ Pusher, –∫–µ—à –¥–ª—è —ñ—Å—Ç–æ—Ä—ñ—ó)
2. ‚úÖ Notifications API
3. ‚úÖ Project Templates API

### –ö—Ä–æ–∫ 5: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è (2-3 –≥–æ–¥–∏–Ω–∏)
1. ‚úÖ –°—Ç–≤–æ—Ä–∏—Ç–∏ `invalidateOnUpdate()` —Ñ—É–Ω–∫—Ü—ñ—é
2. ‚úÖ –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤ storage –º–µ—Ç–æ–¥–∏
3. ‚úÖ –î–æ–¥–∞—Ç–∏ —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—é –≤ –≤—Å—ñ POST/PUT/DELETE endpoints

### –ö—Ä–æ–∫ 6: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —ñ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è (2-3 –≥–æ–¥–∏–Ω–∏)
1. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –≤—Å—ñ endpoints
2. ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—é
3. ‚úÖ –î–æ–¥–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ —ñ –ª–æ–≥—É–≤–∞–Ω–Ω—è
4. ‚úÖ –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ñ TTL

## –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

### Performance
- ‚ö° **50-80% –∑–º–µ–Ω—à–µ–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –ë–î** –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è
- ‚ö° **2-5x —à–≤–∏–¥—à–µ** –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ API –¥–ª—è –∫–µ—à–æ–≤–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- ‚ö° **–ó–º–µ–Ω—à–µ–Ω–Ω—è latency** –∑ ~100-300ms –¥–æ ~10-30ms

### Reliability
- ‚úÖ –î–∞–Ω—ñ –∑–∞–≤–∂–¥–∏ –∞–∫—Ç—É–∞–ª—å–Ω—ñ (–∑–∞–≤–¥—è–∫–∏ timestamp validation)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è –ø—Ä–∏ –∑–º—ñ–Ω–∞—Ö
- ‚úÖ Fallback –¥–æ –ë–î –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö –∫–µ—à—É

### Scalability
- üìà –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –æ–±—Ä–æ–±–ª—è—Ç–∏ –±—ñ–ª—å—à–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –±–µ–∑ –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –ë–î –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- üìà –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–µ –º–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ Redis

## –†–∏–∑–∏–∫–∏ —ñ –º—ñ—Ç–∏–≥–∞—Ü—ñ—è

### –†–∏–∑–∏–∫ 1: –ó–∞—Å—Ç–∞—Ä—ñ–ª—ñ –¥–∞–Ω—ñ
**–ú—ñ—Ç—ñ–≥–∞—Ü—ñ—è:** Timestamp validation + –∞–≥—Ä–µ—Å–∏–≤–Ω–∞ —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è

### –†–∏–∑–∏–∫ 2: Redis –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π
**–ú—ñ—Ç—ñ–≥–∞—Ü—ñ—è:** Graceful degradation - fallback –¥–æ –ë–î

### –†–∏–∑–∏–∫ 3: –ó–∞–±—É—Ç–∞ —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—è
**–ú—ñ—Ç—ñ–≥–∞—Ü—ñ—è:** –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—ó + timestamp validation

### –†–∏–∑–∏–∫ 4: Inconsistent cache keys
**–ú—ñ—Ç—ñ–≥–∞—Ü—ñ—è:** –¢–∏–ø—ñ–∑–æ–≤–∞–Ω—ñ helper —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∫–ª—é—á—ñ–≤

## –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏ –ø—ñ—Å–ª—è –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è

1. –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫ –∫–µ—à—É
2. A/B —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö TTL –∑–Ω–∞—á–µ–Ω—å
3. –†–æ–∑–≥–ª—è–¥ –¥–æ–¥–∞–≤–∞–Ω–Ω—è edge caching (Vercel Edge Network)
4. –í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è cache warming –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω–∏—Ö –¥–∞–Ω–∏—Ö
5. –î–æ–¥–∞–≤–∞–Ω–Ω—è Redis Pub/Sub –¥–ª—è —ñ–Ω–≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤ multi-instance setup
