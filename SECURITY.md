# üîí Security Guidelines

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–Ü –ü–†–ê–í–ò–õ–ê –ë–ï–ó–ü–ï–ö–ò

### 1. –ù–Ü–ö–û–õ–ò –ù–ï –ö–û–ú–Ü–¢–¨–¢–ï –°–ï–ö–†–ï–¢–ò!

**–ó–ê–ë–û–†–û–ù–ï–ù–û –∫–æ–º—ñ—Ç–∏—Ç–∏:**
- `.env` —Ñ–∞–π–ª–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏
- API –∫–ª—é—á—ñ
- –ü–∞—Ä–æ–ª—ñ –±–∞–∑ –¥–∞–Ω–∏—Ö
- OAuth credentials
- JWT secrets
- Stripe API keys
- –ë—É–¥—å-—è–∫—ñ —ñ–Ω—à—ñ —á—É—Ç–ª–∏–≤—ñ –¥–∞–Ω—ñ

### 2. –©–æ —Ä–æ–±–∏—Ç–∏, —è–∫—â–æ –≤–∏–ø–∞–¥–∫–æ–≤–æ –∑–∞–∫–æ–º—ñ—Ç–∏–ª–∏ —Å–µ–∫—Ä–µ—Ç?

**–ù–ï–ì–ê–ô–ù–Ü –î–Ü–á:**

1. **–ó–º—ñ–Ω—ñ—Ç—å —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω—ñ —Å–µ–∫—Ä–µ—Ç–∏** (–Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–µ!)
   - Database passwords
   - API keys
   - OAuth credentials
   - JWT secrets

2. **–í–∏–¥–∞–ª—ñ—Ç—å —Å–µ–∫—Ä–µ—Ç –∑ Git —ñ—Å—Ç–æ—Ä—ñ—ó:**
   ```bash
   # –í–∏–¥–∞–ª–∏—Ç–∏ —Ñ–∞–π–ª –∑ git cache
   git rm --cached .env

   # –í–∏–¥–∞–ª–∏—Ç–∏ –∑ —ñ—Å—Ç–æ—Ä—ñ—ó (–û–ë–ï–†–ï–ñ–ù–û!)
   git filter-branch --force --index-filter \
     "git rm --cached --ignore-unmatch .env" \
     --prune-empty --tag-name-filter cat -- --all

   # Force push (—è–∫—â–æ –≤–∂–µ push –≤ remote)
   git push origin --force --all
   ```

3. **–°–ø–æ–≤—ñ—Å—Ç—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É** –ø—Ä–æ –ø–æ—Ç–µ–Ω—Ü—ñ–π–Ω—É –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü—ñ—é

### 3. –Ø–∫ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Å–µ–∫—Ä–µ—Ç–∏

#### Development (–õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞):

1. –°–∫–æ–ø—ñ—é–π—Ç–µ `.env.example` –≤ `.env`:
   ```bash
   cp .env.example .env
   ```

2. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å `.env` –≤–∞—à–∏–º–∏ **–ª–æ–∫–∞–ª—å–Ω–∏–º–∏** —Å–µ–∫—Ä–µ—Ç–∞–º–∏

3. **–ü–ï–†–ï–í–Ü–†–¢–ï** —â–æ `.env` –≤ `.gitignore`:
   ```bash
   grep -q "^\.env$" .gitignore && echo "‚úÖ .env ignored" || echo "‚ùå Add .env to .gitignore!"
   ```

#### Production:

**–ù–ï –í–ò–ö–û–†–ò–°–¢–û–í–£–ô–¢–ï `.env` —Ñ–∞–π–ª–∏ –≤ production!**

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ:
- **Vercel:** Environment Variables –≤ dashboard
- **AWS:** AWS Secrets Manager –∞–±–æ Systems Manager Parameter Store
- **Docker:** Secrets management –∞–±–æ encrypted volumes
- **Kubernetes:** Sealed Secrets –∞–±–æ External Secrets Operator

### 4. Pre-commit Hook

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–∂–Ω–∏–º commit:

```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è husky
npm install -D husky
npx husky install

# Hook –≤–∂–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –≤ .husky/pre-commit
```

Hook –ø–µ—Ä–µ–≤—ñ—Ä—è—î:
- ‚úÖ –ß–∏ –Ω–µ –∫–æ–º—ñ—Ç—è—Ç—å—Å—è `.env` —Ñ–∞–π–ª–∏
- ‚úÖ –ß–∏ –Ω–µ–º–∞—î –ø–∞—Ç–µ—Ä–Ω—ñ–≤ API –∫–ª—é—á—ñ–≤
- ‚úÖ –ß–∏ –Ω–µ–º–∞—î database connection strings
- ‚úÖ –ß–∏ –Ω–µ–º–∞—î —ñ–Ω—à–∏—Ö —Å–µ–∫—Ä–µ—Ç—ñ–≤

### 5. –†–æ—Ç–∞—Ü—ñ—è —Å–µ–∫—Ä–µ—Ç—ñ–≤

**–†–µ–≥—É–ª—è—Ä–Ω–æ –∑–º—ñ–Ω—é–π—Ç–µ:**
- JWT secrets (–∫–æ–∂–Ω—ñ 90 –¥–Ω—ñ–≤)
- Database passwords (–∫–æ–∂–Ω—ñ 90 –¥–Ω—ñ–≤)
- API keys (–∫–æ–∂–Ω—ñ 180 –¥–Ω—ñ–≤)

**–ù–µ–≥–∞–π–Ω–æ –∑–º—ñ–Ω—é–π—Ç–µ –ø—Ä–∏:**
- –ó–≤—ñ–ª—å–Ω–µ–Ω–Ω—ñ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞
- –ü—ñ–¥–æ–∑—Ä—ñ –Ω–∞ –≤–∏—Ç—ñ–∫
- –ü—ñ—Å–ª—è —ñ–Ω—Ü–∏–¥–µ–Ω—Ç—É –±–µ–∑–ø–µ–∫–∏

### 6. –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –±–µ–∑–ø–µ—á–Ω–∏—Ö —Å–µ–∫—Ä–µ—Ç—ñ–≤

```bash
# JWT Secret (64 bytes)
openssl rand -base64 64

# Generic secret (32 bytes)
openssl rand -base64 32

# Hex secret (64 chars)
openssl rand -hex 32

# Password (without special chars)
openssl rand -base64 24 | tr -d "=+/" | cut -c1-24
```

### 7. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –≤–∏—Ç—ñ–∫

**–†—É—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
```bash
# –ü–æ—à—É–∫ API –∫–ª—é—á—ñ–≤ –≤ —Ñ–∞–π–ª–∞—Ö
git grep -E "sk-[a-zA-Z0-9]{48}" || echo "‚úÖ No OpenAI keys"
git grep -E "sk_live_" || echo "‚úÖ No Stripe live keys"
git grep -E "postgresql://[^:]+:[^@]+@" || echo "‚úÖ No DB credentials"
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
- GitHub Secret Scanning (—É–≤—ñ–º–∫–Ω–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –¥–ª—è public repos)
- GitGuardian
- TruffleHog
- Gitleaks

### 8. –©–æ —Ä–æ–±–∏—Ç–∏ –ø—Ä–∏ –≤–∏—Ç–æ—Ü—ñ

**–ü–ª–∞–Ω –¥—ñ–π –ø—Ä–∏ —ñ–Ω—Ü–∏–¥–µ–Ω—Ç—ñ:**

1. ‚è±Ô∏è **–ü–µ—Ä—à—ñ 15 —Ö–≤–∏–ª–∏–Ω:**
   - –ó–º—ñ–Ω—ñ—Ç—å –í–°–Ü —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω—ñ —Å–µ–∫—Ä–µ—Ç–∏
   - –í—ñ–¥–∫–ª—é—á—ñ—Ç—å —Å–∫–æ–º–ø—Ä–æ–º–µ—Ç–æ–≤–∞–Ω—ñ API –∫–ª—é—á—ñ
   - –ü–æ–≤—ñ–¥–æ–º—Ç–µ –∫–æ–º–∞–Ω–¥—É –±–µ–∑–ø–µ–∫–∏

2. ‚è±Ô∏è **–ü–µ—Ä—à–∞ –≥–æ–¥–∏–Ω–∞:**
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—ñ–¥–æ–∑—Ä—ñ–ª—É –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
   - –í–∏–¥–∞–ª—ñ—Ç—å —Å–µ–∫—Ä–µ—Ç–∏ –∑ Git —ñ—Å—Ç–æ—Ä—ñ—ó
   - –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç—É–π—Ç–µ —ñ–Ω—Ü–∏–¥–µ–Ω—Ç

3. ‚è±Ô∏è **–ü–µ—Ä—à–∏–π –¥–µ–Ω—å:**
   - –ü—Ä–æ–≤–µ–¥—ñ—Ç—å –∞—É–¥–∏—Ç –±–µ–∑–ø–µ–∫–∏
   - –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—Å—ñ —Å–∏—Å—Ç–µ–º–∏ –Ω–∞ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü—ñ—é
   - –û–Ω–æ–≤—ñ—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ –±–µ–∑–ø–µ–∫–∏

4. ‚è±Ô∏è **–¢–∏–∂–¥–µ–Ω—å –ø—ñ—Å–ª—è:**
   - –ù–∞–≤—á–∞–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏
   - –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó
   - –û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

### 9. –ö–æ—Ä–∏—Å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏

**–°–∫–∞–Ω—É–≤–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç—ñ–≤:**
- [GitGuardian](https://www.gitguardian.com/)
- [TruffleHog](https://github.com/trufflesecurity/trufflehog)
- [Gitleaks](https://github.com/gitleaks/gitleaks)
- [git-secrets](https://github.com/awslabs/git-secrets)

**–ö–µ—Ä—É–≤–∞–Ω–Ω—è —Å–µ–∫—Ä–µ—Ç–∞–º–∏:**
- [AWS Secrets Manager](https://aws.amazon.com/secrets-manager/)
- [HashiCorp Vault](https://www.vaultproject.io/)
- [Doppler](https://www.doppler.com/)
- [1Password for Developers](https://developer.1password.com/)

### 10. Checklist –ø–µ—Ä–µ–¥ commit

- [ ] –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `git diff` –Ω–∞ —Å–µ–∫—Ä–µ—Ç–∏
- [ ] –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ `.env` —Ñ–∞–π–ª–∏ –Ω–µ staged
- [ ] –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ API –∫–ª—é—á—ñ –∑–∞–º—ñ–Ω–µ–Ω—ñ –Ω–∞ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–∏
- [ ] –ó–∞–ø—É—Å—Ç—ñ—Ç—å pre-commit hook –≤—Ä—É—á–Ω—É (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
- [ ] –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –∑–º—ñ–Ω–∏ —â–µ —Ä–∞–∑

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç–∏ –ø—Ä–∏ —ñ–Ω—Ü–∏–¥–µ–Ω—Ç—ñ

**–í–∏—è–≤–∏–ª–∏ –≤–∏—Ç—ñ–∫ —Å–µ–∫—Ä–µ—Ç—ñ–≤?**

1. –ù–µ–≥–∞–π–Ω–æ –ø–æ–≤—ñ–¥–æ–º—Ç–µ: [security@yourcompany.com]
2. –°—Ç–≤–æ—Ä—ñ—Ç—å —ñ–Ω—Ü–∏–¥–µ–Ω—Ç: [Security Incident Template]
3. –°–ª—ñ–¥—É–π—Ç–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º –≤–∏—â–µ

**–ü–∏—Ç–∞–Ω–Ω—è –∑ –±–µ–∑–ø–µ–∫–∏?**

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: `/docs/security/`
- Slack: `#security`
- Email: `security-team@yourcompany.com`

---

**–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 2025-11-25
**–í–µ—Ä—Å—ñ—è:** 1.0.0
