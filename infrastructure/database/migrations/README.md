# Database Migrations

Міграції баз даних для мікросервісів.

## Структура

Кожен сервіс має свою базу даних та міграції. Міграції зберігаються в окремих директоріях для кожного сервісу.

## Використання

### Створення міграції

```bash
# Для auth service
cd infrastructure/database/migrations/auth
# Створіть SQL файл з міграцією
```

### Застосування міграцій

```bash
# Використовуйте drizzle-kit або інший інструмент
npm run db:migrate
```

## Міграція з монолітної БД

Використовуйте скрипт `scripts/split-database.ts` для розділення даних:

```bash
tsx scripts/split-database.ts
```

## Best Practices

1. Завжди створюйте backup перед міграцією
2. Тестуйте міграції на staging
3. Використовуйте транзакції
4. Додавайте rollback скрипти
5. Версіонуйте міграції

